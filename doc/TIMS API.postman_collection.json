{
	"info": {
		"_postman_id": "b760a7bd-b7c9-492f-b3c1-c4379206d9ec",
		"name": "TIMS API",
		"description": "The **Tims REST API** helps manage the interoperability of toll stations\n\n* * *\n\n# Admin Endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Healthcheck",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseURL}}/admin/healthcheck",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"admin",
						"healthcheck"
					]
				},
				"description": "Validate end-to-end connectivity between user and database."
			},
			"response": []
		},
		{
			"name": "Reset Database",
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{baseURL}}/admin/resetdatabase",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"admin",
						"resetdatabase"
					]
				}
			},
			"response": []
		},
		{
			"name": "Passes Per Station",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseURL}}/PassesPerStation/:stationID/:date_from/:date_to?format=json",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"PassesPerStation",
						":stationID",
						":date_from",
						":date_to"
					],
					"query": [
						{
							"key": "format",
							"value": "json"
						},
						{
							"key": "format",
							"value": "csv",
							"disabled": true
						}
					],
					"variable": [
						{
							"key": "stationID",
							"value": "KO07"
						},
						{
							"key": "date_from",
							"value": "20200101"
						},
						{
							"key": "date_to",
							"value": "20210101"
						}
					]
				},
				"description": "List of passes for specific toll station and date.\n\n###### Response Format\n\n| **Field** | **Type** | **Description** |\n| --- | --- | --- |\n| Station | String | Unique ID of the toll station |\n| StationOperator | String | Operator of the toll station |\n| RequestTimestamp | String | Date/Time of the request |\n| PeriodFrom | String | Requested period (from) |\n| PeriodTo | String | Requested period (to) |\n| NumberOfPasses | Integer | The number of passes at the specified period |\n| PassesList: | List | A list where its elements = NumberOfPasses |\n| \\->PassIndex | Integer | Pass Entry # |\n| \\->PassID | String | Unique ID of Pass |\n| \\->PassTimestamp | String | The timestamp of the pass |\n| \\->VehicleID | String | Unique ID of the Vehicle |\n| \\->TagProvider | String | Provider of the vehicle's electronic passage tag |\n| \\->PassType | String | \"home\": The tag belongs to the station provider  <br>\"visitor\": The tag does **not** belong to the station provider |\n| \\->PassCharge | Float | The cost of passage in euros |"
			},
			"response": []
		},
		{
			"name": "Passes Analysis",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{baseURL}}/PassesAnalysis/:op1_ID/:op2_ID/:date_from/:date_to?format=json",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"PassesAnalysis",
						":op1_ID",
						":op2_ID",
						":date_from",
						":date_to"
					],
					"query": [
						{
							"key": "format",
							"value": "json"
						},
						{
							"key": "format",
							"value": "csv",
							"disabled": true
						}
					],
					"variable": [
						{
							"key": "op1_ID",
							"value": "1G5N"
						},
						{
							"key": "op2_ID",
							"value": "NLLG"
						},
						{
							"key": "date_from",
							"value": "20080101"
						},
						{
							"key": "date_to",
							"value": "20210101"
						}
					]
				},
				"description": "List of passes performed with a tag of **op2_ID** through stations of **op1_ID**.\n\n###### Response Format\n\n| **Field** | **Type** | **Description** |\n| --- | --- | --- |\n| op1_ID | String | Operator of the station. |\n| op2_ID | String | The unique ID of the provider to whom the tag of the vehicle belongs to. |\n| RequestTimestamp | String | Date/Time of the request |\n| PeriodFrom | String | Requested period (from) |\n| PeriodTo | String | Requested period (to) |\n| NumberOfPasses | Integer | The number of passes at the specified period |\n| PassesList: | List | A list where its elements = NumberOfPasses |\n| \\->PassIndex | Integer | Pass Entry # |\n| \\->PassID | String | Unique ID of Pass |\n| \\->StationID | String | Unique ID of the Station |\n| \\->Timestamp | String | Timestamp of the pass |\n| \\->VehicleID | String | Unique ID of the vehicle. |\n| \\->Charge | Float | The cost of passage in euros |"
			},
			"response": []
		},
		{
			"name": "Passes Cost",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://localhost:9103/interoperability/api/PassesCost/:op1_ID/:op2_ID/:date_from/:date_to?format=json",
					"protocol": "http",
					"host": [
						"localhost"
					],
					"port": "9103",
					"path": [
						"interoperability",
						"api",
						"PassesCost",
						":op1_ID",
						":op2_ID",
						":date_from",
						":date_to"
					],
					"query": [
						{
							"key": "format",
							"value": "json"
						},
						{
							"key": "format",
							"value": "csv",
							"disabled": true
						}
					],
					"variable": [
						{
							"key": "op1_ID",
							"value": "1G5N"
						},
						{
							"key": "op2_ID",
							"value": "NLLG"
						},
						{
							"key": "date_from",
							"value": "20080101"
						},
						{
							"key": "date_to",
							"value": "20211010"
						}
					]
				},
				"description": "Returns the number of passes along with their charge for pass events performed with a tag belonging to **op2_ID** through a station of **op1_ID**.\n\n###### Response Format\n\n| **Field** | **Type** | **Description** |\n| --- | --- | --- |\n| op1_ID | String | Operator of the station. |\n| op2_ID | String | The unique ID of the provider to whom the tag of the vehicle belongs to. |\n| RequestTimestamp | String | Date/Time of the request |\n| PeriodFrom | String | Requested period (from) |\n| PeriodTo | String | Requested period (to) |\n| NumberOfPasses | Integer | The number of passes at the specified period |\n| PassesCost | Float | The cost of passage in euros |"
			},
			"response": []
		},
		{
			"name": "Charges By",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseURL}}/ChargesBy/:op_ID/:date_from/:date_to?format=json",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"ChargesBy",
						":op_ID",
						":date_from",
						":date_to"
					],
					"query": [
						{
							"key": "format",
							"value": "json"
						},
						{
							"key": "format",
							"value": "csv",
							"disabled": true
						}
					],
					"variable": [
						{
							"key": "op_ID",
							"value": "NJO4"
						},
						{
							"key": "date_from",
							"value": "20190101"
						},
						{
							"key": "date_to",
							"value": "20201010"
						}
					]
				},
				"description": "Returns the number of pass events performed through stations of **op_ID** by vehicles with tags belonging to **every other station operator** along with their charge.\n\n###### Response Format\n\n| **Field** | **Type** | **Description** |\n| --- | --- | --- |\n| op_ID | String | Operator of the station. |\n| RequestTimestamp | String | Date/Time of the request |\n| PeriodFrom | String | Requested period (from) |\n| PeriodTo | String | Requested period (to) |\n| PPOList: | List | Contains as many elements as the number of distinct operators whose tags performed a pass event through op_ID's station. |\n| \\->VisitingOperator | String | Unique ID of the visiting operator |\n| \\->NumberOfPasses | Integer | Number of pass events |\n| \\->PassesCost | Float | Sum of the charges of pass events performed by the visiting operator through op_ID's station |"
			},
			"response": []
		},
		{
			"name": "Missing Parameters",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 400\", function () {",
							"    pm.response.to.have.status(400);",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseURL}}/ChargesBy",
					"host": [
						"{{baseURL}}"
					],
					"path": [
						"ChargesBy"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseURL",
			"value": "http://localhost:9103/interoperability/api"
		}
	]
}